/*! For license information please see main.d5b5360c1a5046ddfe51.js.LICENSE.txt */
(()=>{"use strict";const e=document.querySelector(".letters"),t=document.querySelector(".wrong-letters"),n=(document.querySelector(".game img"),document.querySelector(".black-bg")),o=document.querySelector(".word"),r=document.querySelector(".points"),s=document.querySelectorAll(".figure-part"),a={randomWord:[],mistakes:0,hiddenLetters:"",points:0},d=new class{result=document.querySelector(".result");hiddenWord=document.querySelector(".hidden-word");alphabet="abcdefghijklmnopqrstuvwxyz";renderAlphabet(){this.alphabet.split("").forEach((t=>{const n=`<div class="letter">${t}</div>`;e.insertAdjacentHTML("beforeend",n)}))}addEventHadlersLetters(){a.hiddenLetters=document.querySelectorAll(".hidden"),e.querySelectorAll(".letter").forEach((e=>{e.addEventListener("click",(()=>{if(a.randomWord.length>0)if(a.randomWord.some((t=>e.textContent===t)))e.style.backgroundColor="green",e.style.color="white",a.hiddenLetters.forEach((t=>{t.textContent===e.textContent&&(t.style.color="white")})),this.winCheck(Array.from(a.hiddenLetters),a.randomWord);else{const n=`<div class="wrong-letter">${e.textContent}</div>`;t.insertAdjacentHTML("beforeend",n),e.remove(),a.mistakes++,s[a.mistakes-1].style.display="block",this.loseCheck(Array.from(a.hiddenLetters),a.randomWord,a.mistakes)}}))}))}winCheck(e,t){e.every((e=>"white"===e.style.color))&&(console.log(a.points),this.gameEnds(e,t),this.result.textContent="You win!",a.points+=e.length,r.textContent=a.points,localStorage.setItem("savedPoints",a.points))}loseCheck(e,t,n){n>5&&(this.gameEnds(e,t),this.result.textContent="You lose!",a.points=0,r.textContent=a.points,localStorage.clear("savedPoints"))}gameEnds(e,t){this.hiddenWord.textContent=t.join(""),n.style.display="flex",e.forEach((e=>e.style.color="transparent"))}};const i=document.querySelector(".try-again");async function l(){d.renderAlphabet(),await async function(){try{o.innerHTML='\n  <div class="spinner">\n    <i\n      class="fa-solid fa-spinner fa-3x fa-spin-pulse"\n      style="color: white"\n    ></i>\n  </div>\n';const e=await fetch("https://random-word-api.herokuapp.com/all"),t=await e.json();a.randomWord=t[Math.floor(Math.random()*t.length)].split(""),o.innerHTML="",a.randomWord.forEach((e=>{const t=`<div class="hidden">${e}</div>`;o.insertAdjacentHTML("beforeend",t)}))}catch(e){throw e}}(),d.addEventHadlersLetters()}!async function(){try{localStorage.getItem("savedPoints")&&(a.points=Number(localStorage.getItem("savedPoints"))),r.textContent=a.points,l(),d=l,i.addEventListener("click",(()=>{e.innerHTML="",t.innerHTML="",o.innerHTML="",s.forEach((e=>{e.style.display="none"})),n.style.display="none",a.randomWord=[],a.mistakes=0,d()}))}catch(e){console.error(e)}var d}()})();